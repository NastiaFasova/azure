<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layouts/layout_form}"
      xmlns:layout="http://www.w3.org/1999/xhtml">

<head>


    <title>Login</title>

    <link
            href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
            rel="stylesheet">
    <link href="/css/sb-admin-2.min.css" rel="stylesheet">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script type="text/javascript">
        function validate() {
            if (document.user.username.value == "" && document.user.password.value == "") {
                alert("Username and password are required");
                document.user.username.focus();
                return false;
            }
            if (document.user.username.value == "") {
                alert("Username is required");
                document.user.username.focus();
                return false;
            }
            if (document.user.password.value == "") {
                alert("Password is required");
                document.user.password.focus();
                return false;
            }
        }
    </script>
</head>

<h1 class="h4 text-gray-900 mb-4" layout:fragment="title">Welcome back!</h1>

<form class="user" th:action="@{/login}" method="post" th:object="${user}" layout:fragment="content">
    <div class="form-group">
        <input type="username" name="username" class="form-control form-control-user"
               id="exampleInputEmail" aria-describedby="emailHelp"
               placeholder="Enter Email Address..." th:field="*{email}" required="true">
    </div>
    <div class="form-group">
        <input type="password" name="password" class="form-control form-control-user"
               id="exampleInputPassword" placeholder="Password" th:field="*{password}" required="true">
    </div>
    <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}"
          class="alert alert-danger" style="margin-top: 20px"></span>
    <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
          class="alert alert-danger" style="margin-top: 20px"></span>
    <div class="form-control-user alert alert-danger"
         th:if="${errorMessage}" th:text="${errorMessage}"></div>
    <button type="submit" class="btn btn-primary btn-user btn-block" style="margin-top: 25px"
    >Login
    </button>
</form>
<hr>
<div class="text-center" layout:fragment="add_info">
    <a class="small" th:href="@{/register}">Create an Account!</a>
</div>
